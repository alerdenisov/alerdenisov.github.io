<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>bitData | Aler Denisov GitPage</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="var Bind=function e(n){&quot;use strict&quot;;function t(e){return(e+&quot;&quot;).replace(/[]/g,function(e){return{&quot;&amp;gt;&quot;:&quot;&amp;gt;&quot;,&quot; finding callback for %s&quot;,e,k),k.reduce(function(e,o,s){if(e&amp;&amp;e[o]&amp;&amp;o){if(i=i[o],null===i">
<meta property="og:type" content="website">
<meta property="og:title" content="bitData">
<meta property="og:url" content="http://alerdenisov.github.io/bitwise-calc/bitData.html">
<meta property="og:site_name" content="Aler Denisov GitPage">
<meta property="og:description" content="var Bind=function e(n){&quot;use strict&quot;;function t(e){return(e+&quot;&quot;).replace(/[]/g,function(e){return{&quot;&amp;gt;&quot;:&quot;&amp;gt;&quot;,&quot; finding callback for %s&quot;,e,k),k.reduce(function(e,o,s){if(e&amp;&amp;e[o]&amp;&amp;o){if(i=i[o],null===i">
<meta property="og:updated_time" content="2016-10-02T09:26:12.668Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="bitData">
<meta name="twitter:description" content="var Bind=function e(n){&quot;use strict&quot;;function t(e){return(e+&quot;&quot;).replace(/[]/g,function(e){return{&quot;&amp;gt;&quot;:&quot;&amp;gt;&quot;,&quot; finding callback for %s&quot;,e,k),k.reduce(function(e,o,s){if(e&amp;&amp;e[o]&amp;&amp;o){if(i=i[o],null===i">
  
  
    <link rel="icon" href="/favicon.png">
  
  

  <link rel="stylesheet" href="//cdn.jsdelivr.net/g/highlight.js@9.6.0(styles/monokai.min.css),jquery.owlcarousel@1.31(owl.carousel.css+owl.theme.css)">

  <link rel="stylesheet" href="/styles/main.css">
  


  <script src="//cdn.jsdelivr.net/g/jquery@2.2.4"></script>
</head>

<body>

  <!--[if lt IE 10] 
  <p class="browsehappy">
    You are using an strong outdated <strong>browser</strong>. 
    Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
  </p>
  ![endif]-->
  
  

  <div id="container">
    <div id="wrap">
      <div class="outer">
        <section id="main"> 
<div style="width: 100%;overflow: hidden;background-color: #fbfbfb;">

<script>
	var Bind=function e(n){"use strict";function t(e){return(e+"").replace(/[<>]/g,function(e){return{">":"&gt;","<":"&lt;"}[e]})}function r(e,n){for(var t=e.length,r=0;t>r;r++)n(e[r],r,e)}function i(e,n){var t="pop push reverse shift sort splice unshift".split(" ");r(t,function(t){this[t]=function(){this.__dirty=!0;var r=a({},l[t].apply(this,arguments));return delete this.__dirty,e&&n.ready&&e(this),r}.bind(this)}.bind(this));var i=this.length;return Object.defineProperty(this,"length",{configurable:!1,enumerable:!0,set:function(e){if(this.__dirty)return void(i=e);var n=1*e;return i!==n&&(n>i?this.push.apply(this,new Array(n-i)):this.splice(n),i=n),e},get:function(){return i}}),this}function c(l,d,p,y){if(y||(y=[]),p.ready&&d.__callback)return l;if(d instanceof e)return d;var v;try{var b=p.context||document;v=b.querySelectorAll.bind(b)}catch(g){}return r(Object.getOwnPropertyNames(d),function(e){if("__callback"!==e){var b,g=d[e],k=[].slice.call(y),_=function(e){return t(e)},m=f;k.push(e);var O=p.mapping[k.join(".")];o&&console.log("key: %s / %s",e,k.join("."),O),O&&"[object Object]"===O.toString()&&(O.callback&&(b=O.callback),O.transform&&(_=h(O.transform.bind({safe:t}))),O.parse&&(m=h(O.parse)),O=O.dom);var j;if("string"==typeof O?j=v(O||"☺"):n.Element&&O instanceof n.Element&&(j=[O]),"function"==typeof O)b=O;else if(j){0===j.length&&console.warn('No elements found against "'+O+'" selector');var A=["OPTION","INPUT","PROGRESS","TEXTAREA"];(null===g||void 0===g)&&(g=m(-1!==A.indexOf(j[0].nodeName)?j[0].hasOwnProperty("checked")?"on"===j[0].value?j[0].checked:j[0].value:j[0].value:j[0].innerHTML));var E=b;b=function(e){j=v(O||"☺"),j&&r(j,function(n){if(!n.__dirty)if(-1!==A.indexOf(n.nodeName)){var t=_(e,l);if("checkbox"===n.type)if(e instanceof Array){var i=e.filter(function(e){return e===n.value?(n.checked=n.value===e,!0):void 0});0===i.length&&(n.checked=!1)}else"boolean"==typeof e&&(n.checked=e);else if("radio"===n.type)n.checked=n.value===t;else if("number"==typeof n.value)try{n.value=1*t}catch(c){console.error(c.message)}else n.value=t}else{e instanceof Array||(e=[e]);var a=[];r(e,function(e){a.push(_(e,l))}),"object"==typeof a[0]?(n.innerHTML="",a.forEach(function(e){n.appendChild(e)})):n.innerHTML=a.join("")}}),E&&E.apply(l,arguments)},r(j,function(n){if("INPUT"===n.nodeName||"SELECT"===n.nodeName||"TEXTAREA"===n.nodeName){var t=function(){this.__dirty=!0;var t;if("checkbox"===n.type){var i=(n.form||document).querySelectorAll('input[name="'+n.name+'"][type="checkbox"]');if(l[e]instanceof Array){var c=[];r(i,function(e){e.checked&&c.push(m("on"===e.value?e.checked:e.value))}),t=c}else t=m("on"===this.value?this.checked:this.value)}else"radio"===n.type&&(t=m("on"===this.value?this.checked:this.value)),t=m("number"==typeof l[e]?1*this.value:this.value);void 0===t&&(t=this.value),l[e]=t,this.__dirty=!1},i={checkbox:"change",radio:"change"}[n.type];n.addEventListener(i||"input",t)}})}b&&k.reduce(function(e,n,t,r){return e[n]||(e[n]={}),t===r.length-1&&(e[n].__callback=b),e[n]},p.callbacks);var N=function(n){var t=[],r=[],i=p.instance,c=!1,l=!1;o&&console.log("> finding callback for %s",e,k),k.reduce(function(e,o,s){if(e&&e[o]&&o){if(i=i[o],null===i||void 0===i)return e[o]||{};if("function"==typeof e[o].__callback){var u=s===k.length-1?n:i;i.__dirty&&(c=!0),s===k.length-1&&e[o].__callback&&(l={path:k.join("."),callback:e[o].__callback,instance:u}),c||(r.push(a(u instanceof Array?[]:{},u)),t.push(e[o].__callback))}return e[o]||{}}},p.callbacks),c||(r.reverse(),t.reverse().forEach(function(e,n){e.call(p.instance,r[n])})),c&&l&&(i=l.instance,l.callback.call(p.instance,a(i instanceof Array?[]:{},i)))},P={configurable:!0,enumerable:!0,set:function(n){var t=g!==n?g:void 0;g=!p.ready||typeof n!==u||null===n||s(n)||n.__callback?s(n)?c(new i(N,p),n,p,k):n:c(l[e]?a({},l[e]):{},n,p,k),o&&console.log("set: key(%s): %s -> %s",e,JSON.stringify(t),JSON.stringify(n)),p.ready?N(g):"undefined"!=typeof p.mapping[k.join(".")]&&p.deferred.push(N.bind(l,g,t))},get:function(){return g}};try{Object.defineProperty(l,e,P)}catch(x){o&&console.log("failed on Object.defineProperty",x.toString(),x.stack)}typeof g!==u||null===g||s(g)?s(g)?l[e]=c(new i(N,p),g,p,k):l instanceof i||(l[e]=g):l[e]=c(l[e]||{},g,p,k)}}),l instanceof i&&l.push.apply(l,d),l}function a(n,t){return t instanceof Object?(r(Object.getOwnPropertyNames(t),function(r){var i=t[r];e.prototype[r]||"__callback"===r||(typeof i===u&&null!==i&&i instanceof Array?n[r]=[].map.call(i,function(e){return e instanceof Object?a(n[r]||{},e):e}):typeof i!==u||null===i||s(i)||"[Object object]"!==i.toString?n[r]=i:n[r]=a(n[r]||{},i))}),n):t}function e(t,i,a){if(!this||this===n)return new e(t,i);var o={context:a||n.document,mapping:i||{},callbacks:{},deferred:[],ready:!1,instance:this};return c(this,t,o),o.ready=!0,o.deferred.length&&r(o.deferred,function(e){e()}),this}if(!Function.bind||!Object.defineProperty)throw new Error("Prerequisite APIs not available.");var o=!1,l=[],s=Array.isArray,u="object",f=function(e){return e},h=function(e){return function(){try{return e.apply(this,arguments)}catch(n){console.error(n.stack?n.stack:n)}}};return i.prototype=[],e.prototype.__export=function(){return a({},this)},e}(this);"undefined"!=typeof exports&&(module.exports=Bind);
</script>

<script src="/bitwise-calc/index/biwise.js"></script>
<link rel="stylesheet" href="/bitwise-calc/index/bit.css">

<script>
// const requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
                              // window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

$(function() {
	const binaryOptions = { allowIndexes: false };
	
	const binaryTail  = new BinaryData(0, 1, binaryOptions);
	const binaryFace  = new BinaryData(0, 1, binaryOptions);
	const binaryBack  = new BinaryData(0, 1, binaryOptions);

	const binaryColor = new BinaryData(0, 4, binaryOptions);
	const binaryAge   = new BinaryData(0, 3, binaryOptions);

	const binaryFinal = new BinaryData(0, 10, binaryOptions);
	const binaryShifted = new BinaryData(0, 4, binaryOptions);


	const data = Bind({
		kitten: {
	        tail: false,
	        face: false,
	        back: false,
	        color: 0,
	        age:   0
		}
	}, 
	{
		kitten: (kitten) => { 

		    binaryColor.change(+kitten.color);
		},
		"kitten.tail": '#tail',
		"kitten.face": '#face',
		"kitten.back": '#back',
		"kitten.color": {
			dom: '#colors',
			callback: (a, b, c, d) => { return parseInt(a); },
			parse: (a, b, c, d) => { return parseInt(a); },
			transform: (a, b, c, d) => {
				let $select = $("#colors");
				let $colors = $select.find("option");
				$colors.removeAttr('selected').filter(`[value="${a}"]`).attr('selected');

				return $select.html();
			}
		},
		"kitten.age": '#age'
	});

	const renderOptions = { 
		cols: 1, 
		showMath: false, 
		showByte: false, 
		showDec: false, 
		bit: { 
			allowSet: true, 
			showIndex: false,
			showPosition: false 
		} 
	};

	const renderer = [];
	renderer[0] = new BinaryRenderer($("#binaryAge"),   binaryAge,   renderOptions);
	renderer[2] = new BinaryRenderer($("#binaryBack"),  binaryBack,  renderOptions);
	renderer[3] = new BinaryRenderer($("#binaryFace"),  binaryFace,  renderOptions);
	renderer[4] = new BinaryRenderer($("#binaryTail"),  binaryTail,  renderOptions);

	renderOptions.bit.allowSet = false;
	renderer[1] = new BinaryRenderer($("#binaryColor"), binaryColor, renderOptions);

	for(let render of renderer) render.loop();

	let cached = -1;

	function calc() {
		const tailData  = binaryTail.decial << 0;
	    const faceData  = binaryFace.decial << 1; 
	    const backData  = binaryBack.decial << 2;
	    const colorData = binaryColor.decial << 3;
	    const ageData   = binaryAge.decial << 7;
	    const data = tailData | backData | faceData | colorData | ageData;
	    if(cached != data) {
		    const mask = ((1 << 4) - 1) << 3;

		    binaryFinal.change(data);
		    binaryShifted.change((data & mask) >> 3);

		    let out = [
		    	`// color is ${binaryColor.decial}`,
		    	`${binaryFinal.bits.slice().reverse().join("")} // data (${binaryFinal.decial})`,
		    	'0001111000 // mask',
		    	`---${binaryShifted.bits.slice().reverse().join("")}000 // under mask`,
		    	`------${binaryShifted.bits.slice().reverse().join("")} // shifted (${binaryShifted.decial})`
	    	];

			$("#JSON").text(out.join("\n"));

			cached = data;
		}
		requestAnimationFrame(calc);
	}

	calc();
});
</script>
<div class=".container-fluid" id="calc">
	<div class="row">
		<div class="col-xs-7">
			<div class="-fl-col -grow">
				<div class="-grow -fl-row -ju-center">
					<div id="binaryAge"></div>
					<div id="binaryColor"></div>
					<div id="binaryBack"></div>
					<div id="binaryFace"></div>
					<div id="binaryTail"></div>
				</div>
				<div id="BinaryOperationControls" class="-fl-col -al-stretch -grow out-dec" style="padding-bottom: 1em;">
					<div class="-fl-col -al-stretch -ju-center out-group -grow">						
						<div class="-grow -fl">
							<span class="out-label">Color</span>
							<select id="colors" class="out -grow" style="height: 38px;">
								<option value="0">Devil</option>
								<option value="1">Black</option>
								<option value="2">White</option>
								<option value="3">Gray</option>
								<option value="4">Ginger</option>
						    </select>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xs-5 -fl-col -al-stretch">
			<pre id="JSON" class="-grow out" style="font-size: 14px; line-height: 18px; text-align: left"></pre>
		</div>
	</div>
</div>

</div>

</section>
      </div>
      
    </div>
    
    
<script>
  var disqus_shortname = 'alerdenisov-github-ios';
  
  var disqus_url = 'http://alerdenisov.github.io/bitwise-calc/bitData.html';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//cdn.jsdelivr.net/g/tether@1.3.7,highlight.js@9.6.0(highlight.min.js+languages/cs.min.js),jquery.owlcarousel@1.31"></script>


<script src="https://use.typekit.net/hnx1lyt.js"></script> 
<script>
  try{Typekit.load({ async: true });}catch(e){}
</script>


<script src="/js/main.js"></script>
  </div>
</body>
</html>